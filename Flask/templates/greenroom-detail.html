{% extends 'base.html' %} {% block style %}
<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('static', filename='css/greenroom_detail.css') }}"
/>
{% endblock %}

<!-- side bar -->
{% block sidebar %} {% for sb in data.sidebar %}
<li class="nav-item">
  <a
    href="/greenroom-detail/{{sb.link}}"
    class="nav-link {{sb.active}}"
    aria-current="page"
  >
    <svg class="bi me-2" width="16" height="16">
      <use xlink:href="#home"></use>
    </svg>
    {{sb.name}}
  </a>
</li>
{% endfor %} {% endblock %} {% block content %}
<div class="row">
  <div class="col-12">
    {% if data.greenroom.water_level == True %}
    <div class="alert alert-danger" role="alert">
      Nutrient solution low, please fill it immediately!
    </div>
    {% endif %}

    <h1>{% block title %}{{ data.greenroom.name }}{% endblock %}</h1>
  </div>
</div>
<hr />
<div class="row">
  <div class="col-6 text-center">
    <img
      src="https://firebasestorage.googleapis.com/v0/b/iot-greenroom.appspot.com/o/greenroom_images%2F{{data.greenroom.image}}?alt=media"
      class="img-plant-detail"
      alt="Plant Image"
    />
    <div class="flexbox-horizontal m-5 justify-content-between">
      <div class="flexbox-vertical temperature">
        <p>Temperature</p>
        <p>{{data.greenroom.temperature}} &deg;C</p>
      </div>
      <div class="flexbox-vertical light">
        <p>Light Intensity</p>
        <p>{{data.greenroom.light}} arb. unit</p>
      </div>
      <div class="flexbox-vertical moisture">
        <p>Soil Moisture</p>
        <p>{{data.greenroom.moisture}} arb. unit</p>
      </div>
    </div>
  </div>

  <div class="col-6 card">
    <form method="post">
      <div class="form-group">
        <p class="form-title">Nutrient Pump</p>
        {% if data.greenroom.water_level == False %} {% if
        data.greenroom.water_action == "0" %}
        <p>
          Nutrient Pump last activated on {{data.greenroom.water_timestamp}}
        </p>
        <button
          type="submit"
          class="btn btn-primary"
          name="water_act"
          id="nutrient_on"
          value="1"
        >
          Turn On
        </button>
        {% else %}
        <p>
          Nutrient Pump currently running, will stop on
          {{data.greenroom.water_timestamp}}
        </p>
        <button
          type="submit"
          class="btn btn-primary"
          name="water_act"
          id="nutrient_off"
          value="0"
        >
          Turn Off
        </button>
        {% endif %} {% else %}
        <p>
          Nutrient Pump last activated on {{data.greenroom.water_timestamp}}
        </p>
        <button
          type="submit"
          class="btn btn-primary"
          name="water_act"
          id="nutrient_on"
          value="1"
          disabled
        >
          Turn On
        </button>
        <small class="form-text text-muted"
          >Nutrient solution low, function disabled</small
        >
        {% endif %}
      </div>
    </form>

    <form method="post">
      <div class="form-group">
<<<<<<< Updated upstream
        <div class="form-heading">
          <span class="form-title">Water Pump</span>
          <span class="actuator_mode">{{greenroom.moisture_mode}}</span>
        </div>
        {% if greenroom.moisture_action == "0" %}
        <p>Water Pump last activated on {{greenroom.moisture_timestamp}}</p>
=======
        <p class="form-title">Water Pump</p>
        {% if data.greenroom.moisture_action == "0" %}
        <p>
          Water Pump last activated on {{data.greenroom.moisture_timestamp}}
        </p>
>>>>>>> Stashed changes
        <button
          type="submit"
          name="soil_act"
          class="btn btn-primary"
          id="water_on"
          value="1"
        >
          Turn On
        </button>
        {% else %}
        <p>
          Water Pump currently running, will stop on
          {{data.greenroom.moisture_timestamp}}
        </p>
        <button
          type="submit"
          name="soil_act"
          class="btn btn-primary"
          id="water_off"
          value="0"
        >
          Turn Off
        </button>
        {% endif %}
      </div>
    </form>

    <form method="post">
      <div class="form-group">
<<<<<<< Updated upstream
        <div class="form-heading">
          <span class="form-title">Growth Light</span>
          <span class="actuator_mode">{{greenroom.light_mode}}</span>
        </div>
        {% if greenroom.light_action == "0" %}
        <p>Growth light last activated on {{greenroom.light_timestamp}}</p>
=======
        <p class="form-title">Growth Light</p>
        {% if data.greenroom.light_action == "0" %}
        <p>Growth light last activated on {{data.greenroom.light_timestamp}}</p>
>>>>>>> Stashed changes
        {% else %}
        <p>
          Growth light currently activated at Brightness Level
          {{data.greenroom.light_action}}
        </p>
<<<<<<< Updated upstream
        {% endif %} <input type="radio" name="light_act" id="light_off" value="0" {%
        if greenroom.light_action == '0' %} checked {% endif %} >
        <label for="light_off">Off</label><br />
        <input type="radio" name="light_act" id="light_one" value="1" {% if
        greenroom.light_action == '1' %} checked {% endif %} >
        <label for="light_one">Brightness Level 1</label><br />
        <input type="radio" name="light_act" id="light_two" value="2" {% if
        greenroom.light_action == '2' %} checked {% endif %} >
        <label for="light_two">Brightness Level 2</label><br />
        <input type="radio" name="light_act" id="light_three" value="3" {% if
        greenroom.light_action == '3' %} checked {% endif %} >
=======
        {% endif %} <input type="radio" name="light" id="light_off" value="0" {%
        if data.greenroom.light_action == '0' %} checked {% endif %} >
        <label for="light_off">Off</label><br />
        <input type="radio" name="light" id="light_one" value="1" {% if
        data.greenroom.light_action == '1' %} checked {% endif %} >
        <label for="light_one">Brightness Level 1</label><br />
        <input type="radio" name="light" id="light_two" value="2" {% if
        data.greenroom.light_action == '2' %} checked {% endif %} >
        <label for="light_two">Brightness Level 2</label><br />
        <input type="radio" name="light" id="light_three" value="3" {% if
        data.greenroom.light_action == '3' %} checked {% endif %} >
>>>>>>> Stashed changes
        <label for="light_three">Brightness Level 3</label><br />
      </div>
      <button type="submit" class="btn btn-primary">Update</button>
    </form>

    <form method="post">
      <div class="form-group">
<<<<<<< Updated upstream
        <div class="form-heading">
          <span class="form-title">Fan</span>
          <span class="actuator_mode">{{greenroom.temperature_mode}}</span>
        </div>
        {% if greenroom.temperature_action == "0" %}
        <p>Fan last activated on {{greenroom.temperature_timestamp}}</p>
=======
        <p class="form-title">Fan</p>
        {% if data.greenroom.temperature_action == "0" %}
        <p>Fan last activated on {{data.greenroom.temperature_timestamp}}</p>
>>>>>>> Stashed changes
        <button
          type="submit"
          name="temp_act"
          class="btn btn-primary"
          id="fan_on"
          value="1"
        >
          Turn on
        </button>
        {% else %}
        <p>Fan is currently on</p>
        <button
          type="submit"
          name="temp_act"
          class="btn btn-primary"
          id="fan_off"
          value="0"
        >
          Turn off
        </button>
        {% endif %}
      </div>
    </form>
  </div>
</div>

{% endblock %}
